(this.webpackJsonpfollowed=this.webpackJsonpfollowed||[]).push([[0],{20:function(t,n,e){t.exports={root:"Cell_root__2ti8K",empty:"Cell_empty__1ByI9"}},24:function(t,n,e){t.exports={root:"Grid_root__xSU_B",row:"Grid_row__1rWaL"}},28:function(t,n){},29:function(t,n){},30:function(t,n,e){t.exports={app:"index_app__2lpzC"}},31:function(t,n,e){t.exports={root:"App_root__ZxxJN"}},34:function(t,n,e){t.exports={root:"Entity_root__MaGTf"}},41:function(t,n,e){t.exports=e(54)},54:function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"maze",(function(){return L}));var a={};e.r(a),e.d(a,"nOf",(function(){return C})),e.d(a,"sorted",(function(){return H})),e.d(a,"nonNull",(function(){return z})),e.d(a,"randomItem",(function(){return G}));var o={};e.r(o),e.d(o,"randomInRange",(function(){return B}));var i={};e.r(i),e.d(i,"centerOnPoint",(function(){return Q}));var c={};e.r(c),e.d(c,"create",(function(){return V})),e.d(c,"area",(function(){return Y})),e.d(c,"randomPoint",(function(){return J})),e.d(c,"pointAlongEdge",(function(){return K}));var u={};e.r(u),e.d(u,"fromApi",(function(){return q}));var d={};e.r(d),e.d(d,"fromMazeData",(function(){return Z})),e.d(d,"canWalk",(function(){return X}));var s={};e.r(s),e.d(s,"isLoading",(function(){return $})),e.d(s,"isLoaded",(function(){return tt})),e.d(s,"isErrored",(function(){return nt})),e.d(s,"loading",(function(){return et})),e.d(s,"loaded",(function(){return rt})),e.d(s,"errored",(function(){return at})),e.d(s,"map",(function(){return ot}));var f={};e.r(f),e.d(f,"create",(function(){return ct}));var l={};e.r(l),e.d(l,"create",(function(){return ut}));var p={};e.r(p),e.d(p,"getColor",(function(){return dt})),e.d(p,"getDisplayName",(function(){return st})),e.d(p,"generateAiInstructions",(function(){return ft}));var m={};e.r(m),e.d(m,"create",(function(){return pt})),e.d(m,"next",(function(){return mt}));var y={};e.r(y),e.d(y,"create",(function(){return yt}));var v={};e.r(v),e.d(v,"create",(function(){return vt})),e.d(v,"toIndex",(function(){return Et})),e.d(v,"fromIndex",(function(){return bt})),e.d(v,"neighbor",(function(){return Ot})),e.d(v,"neighbors",(function(){return ht})),e.d(v,"equals",(function(){return gt}));var E={};e.r(E),e.d(E,"create",(function(){return wt}));var b={};e.r(b),e.d(b,"fromEntities",(function(){return xt})),e.d(b,"entitiesAtPoint",(function(){return Mt})),e.d(b,"moveEntity",(function(){return kt})),e.d(b,"updateEntity",(function(){return _t})),e.d(b,"entitiesCrossed",(function(){return jt})),e.d(b,"neighborsCrossedByEntity",(function(){return At}));var O={};e.r(O),e.d(O,"create",(function(){return St})),e.d(O,"displayGrid",(function(){return Dt})),e.d(O,"generateAllAIInstructions",(function(){return Nt}));var h={};e.r(h),e.d(h,"create",(function(){return Pt})),e.d(h,"validate",(function(){return Rt})),e.d(h,"apply",(function(){return Ut}));var g={};e.r(g),e.d(g,"create",(function(){return Lt})),e.d(g,"apply",(function(){return Wt}));var w={};e.r(w),e.d(w,"validate",(function(){return Ct})),e.d(w,"validateAll",(function(){return Ht})),e.d(w,"apply",(function(){return zt})),e.d(w,"applyAll",(function(){return Gt})),e.d(w,"Move",(function(){return h})),e.d(w,"Update",(function(){return g}));var T={};e.r(T),e.d(T,"Direction",(function(){return It})),e.d(T,"all",(function(){return Qt})),e.d(T,"inverse",(function(){return Vt}));var x={};e.r(x),e.d(x,"ok",(function(){return Yt})),e.d(x,"err",(function(){return Jt})),e.d(x,"isErr",(function(){return Kt})),e.d(x,"isOk",(function(){return qt})),e.d(x,"map",(function(){return Ft}));var M={};e.r(M),e.d(M,"of",(function(){return Zt})),e.d(M,"none",(function(){return Xt})),e.d(M,"withDefault",(function(){return $t})),e.d(M,"map",(function(){return tn})),e.d(M,"ifPresent",(function(){return nn}));var k,_=e(1),j=e.n(_),A=e(17),S=e.n(A),D=e(30),N=e.n(D),I=e(31),P=e.n(I),R=e(19),U="https://fv9o21r19a.execute-api.us-east-1.amazonaws.com/dev",L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dimension,e=void 0===n?c.create(10,10):n,r=t.algorithm,a=void 0===r?"aldous-broder":r,o=fetch("".concat(U),{method:"post",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({dimensions:e,algorithm:a})});return o.then((function(t){return t.text()})).then((function(t){return u.fromApi(e,t)}))},W=e(9),C=function(t,n){return new Array(t).fill(n)},H=function(t,n){var e=Object(W.a)(t);return e.sort(n),e},z=function(t){return t.filter((function(t){return null!=t}))},G=function(t){return t[Math.floor(Math.random()*t.length)]},B=function(t,n){return t+Math.floor(Math.random()*(n-t-1))},Q=function(t,n,e){for(var r=n.x-e,a=n.x+e+1,o=n.y-e,i=n.y+e+1,c=[],u=o;u<i;u++){for(var d=[],s=function(n){d.push(M.map((function(t){return t[n]}),t[u]))},f=r;f<a;f++)s(f);c.push(d)}return c},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{width:t,height:n}},Y=function(t){return t.width*t.height},J=function(t){return v.fromIndex(Math.floor(Math.random()*Y(t)),t)},K=function(t){var n=Math.random()>.5;return v.create(n?o.randomInRange(0,t.width):Math.random()>.5?0:t.width-1,n?Math.random()>.5?0:t.height-1:o.randomInRange(0,t.height))},q=function(t,n){return{bytes:Uint8Array.from(atob(n),(function(t){return t.charCodeAt(0)})),dimension:t}},F=function(t){return{walls:(n={n:!((8&t)>0),s:!((4&t)>0),e:!((2&t)>0),w:!((1&t)>0)},{n:n.n||!1,e:n.e||!1,s:n.s||!1,w:n.w||!1})};var n},Z=function(t){for(var n=t.dimension,e=t.bytes,r=[],a=0;a<n.height;a++){for(var o=[],i=0;i<n.width;i++)o.push(F(e[a*n.width+i]));r.push(o)}return{grid:r,dimension:n}},X=function(t,n,e){var r=n.x,a=n.y;return!function(t,n){var e=t.walls;switch(n){case T.Direction.NORTH:return e.n;case T.Direction.EAST:return e.e;case T.Direction.SOUTH:return e.s;case T.Direction.WEST:return e.w}}(t.grid[a][r],e)},$=function(t){return"Loading"===t.state},tt=function(t){return"Loaded"===t.state},nt=function(t){return"Errored"===t.state},et=function(){return{state:"Loading"}},rt=function(t){return{state:"Loaded",data:t}},at=function(t){return{state:"Errored",e:t}},ot=function(t,n){return tt(n)?rt(t(n.data)):n},it=e(33),ct=function(){return Object(it.v4)()},ut=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.create();return{id:f.create(),name:t,position:n,type:"player"}},dt=(e(28),function(t){switch(t.type){case"player":return"var(--blue)";case"exit":return"var(--green)";default:return"var(--red)"}}),st=function(t){switch(t.type){case"player":return t.name[0];default:return t.type[0]}},ft=function(t,n){switch(t.type){case"blind-guardian":return m.next(t,n);default:return[]}},lt=e(5),pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.create();return{type:"blind-guardian",position:t,id:f.create(),heading:T.Direction.NORTH}},mt=function(t,n){var e,r=T.all().filter((function(e){return d.canWalk(n.maze,t.position,e)})),o=r.filter((function(n){return n!==T.inverse(t.heading)}));return e=r.includes(t.heading)&&Math.random()>.75?t.heading:Math.random()>.75&&o.length>0?a.randomItem(o):r[0],[w.Update.create(Object(lt.a)({},t,{heading:e})),w.Move.create(t.id,e)]},yt=function(t){return{position:t,id:f.create(),type:"exit"}},vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{x:t,y:n}},Et=function(t,n){var e=t.x;return t.y*n.width+e},bt=function(t,n){var e=n.width;return vt(Math.floor(t/e),t%e)},Ot=function(t,n){switch(n){case"NORTH":return v.create(t.x,t.y-1);case"SOUTH":return v.create(t.x,t.y+1);case"EAST":return v.create(t.x+1,t.y);case"WEST":default:return v.create(t.x-1,t.y)}},ht=function(t,n){return T.all().map((function(n){return Ot(t,n)})).filter((function(t){return t.x>=0&&t.y>=0&&t.x<n.width&&t.y<n.height}))},gt=function(t,n){return t.x===n.x&&t.y===n.y},wt=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return{instructions:n,id:f.create()}},Tt=e(12),xt=function(t,n){return{entityMap:t.reduce((function(t,n){return t[n.id]=n,t}),{}),positionMap:t.reduce((function(t,e){var r=v.toIndex(e.position,n);return t[r]=t[r]?[].concat(Object(W.a)(t[r]),[e.id]):[e.id],t}),{}),playerEntityId:M.map((function(t){return t.id}),t.find((function(t){return"player"===t.type}))),typeMap:t.reduce((function(t,n){return Object(lt.a)({},t,Object(Tt.a)({},n.type,t[n.id]?[].concat(Object(W.a)(t[n.id]),[n.id]):[n.id]))}),{})}},Mt=function(t,n,e){var r=v.toIndex(n,e);return(t.positionMap[r]||[]).map((function(n){return t.entityMap[n]}))},kt=function(t,n,e,r){var a=n.entityMap[t];if(null!=a){var o,i=v.toIndex(a.position,r),c=v.toIndex(e,r),u=Object(lt.a)({},a,{position:e});return Object(lt.a)({},n,{entityMap:Object(lt.a)({},n.entityMap,Object(Tt.a)({},t,u)),positionMap:Object(lt.a)({},n.positionMap,(o={},Object(Tt.a)(o,i,Object(W.a)((n.positionMap[i]||[]).filter((function(n){return n!==t})))),Object(Tt.a)(o,c,[].concat(Object(W.a)(n.positionMap[c]||[]),[t])),o))})}return n},_t=function(t,n){return Object(lt.a)({},n,{entityMap:Object(lt.a)({},n.entityMap,Object(Tt.a)({},t.id,t))})},jt=function(t,n,e,r){var a=t.entityMap[e],o=t.entityMap[r],i=n.entityMap[e],c=n.entityMap[r];return v.equals(i.position,o.position)&&v.equals(c.position,a.position)},At=function(t,n,e,r){return v.neighbors(n.entityMap[e].position,r).map((function(t){return v.toIndex(t,r)})).reduce((function(t,e){return t.concat(n.positionMap[e]||[])}),[]).filter((function(r){return jt(t,n,e,r)})).map((function(t){return n.entityMap[t]}))},St=function(t,n){return{maze:t,entityData:n}},Dt=function(t){var n=t.maze,e=t.entityData;return n.grid.reduce((function(t,r,a){return[].concat(Object(W.a)(t),[r.reduce((function(t,r,o){return t.concat({cell:r,occupants:b.entitiesAtPoint(e,v.create(o,a),n.dimension)})}),[])])}),[])},Nt=function(t){return Object.keys(t.entityData.entityMap).map((function(n){return t.entityData.entityMap[n]})).filter((function(t){return"player"!==t.type})).reduce((function(n,e){return n.concat(p.generateAiInstructions(e,t))}),[])};!function(t){t.MOVE="MOVE",t.UPDATE="UPDATE"}(k||(k={}));var It,Pt=function(t,n){return{type:k.MOVE,entityId:t,payload:{direction:n}}},Rt=function(t,n){return d.canWalk(n.maze,n.entityData.entityMap[t.entityId].position,t.payload.direction)?x.ok(void 0):x.err("way is blocked")},Ut=function(t,n){return Object(lt.a)({},n,{entityData:b.moveEntity(t.entityId,n.entityData,v.neighbor(n.entityData.entityMap[t.entityId].position,t.payload.direction),n.maze.dimension)})},Lt=function(t){return{type:k.UPDATE,entityId:t.id,payload:{updated:t}}},Wt=function(t,n){return Object(lt.a)({},n,{entityData:b.updateEntity(t.payload.updated,n.entityData)})},Ct=function(t,n){switch(t.type){case k.MOVE:return h.validate(t,n);default:return x.err("Unkown instruction of type ".concat(t.type))}},Ht=function(t,n){return t.reduce((function(t,e){return x.isOk(t)?Ct(e,n):t}),x.ok(void 0))},zt=function(t,n){try{switch(t.type){case k.MOVE:return x.ok(h.apply(t,n));case k.UPDATE:return x.ok(g.apply(t,n))}}catch(e){return console.warn("Error applying instruction",t),console.error(e),x.err("Error applying instructions")}},Gt=function(t,n){return t.reduce((function(t,n){return x.isOk(t)?zt(n,t.data):t}),x.ok(n))};!function(t){t.NORTH="NORTH",t.SOUTH="SOUTH",t.EAST="EAST",t.WEST="WEST"}(It||(It={}));var Bt,Qt=function(){return[It.NORTH,It.SOUTH,It.EAST,It.WEST]},Vt=function(t){switch(t){case It.NORTH:return It.SOUTH;case It.SOUTH:return It.NORTH;case It.EAST:return It.WEST;case It.WEST:return It.EAST}},Yt=function(t){return{type:"Ok",data:t}},Jt=function(t){return{type:"Error",msg:t}},Kt=function(t){return"Error"===t.type},qt=function(t){return"Ok"===t.type},Ft=function(t,n){return qt(n)?Yt(t(n.data)):n},Zt=(e(29),function(t){return t}),Xt=function(){},$t=function(t,n){return null!=t?t:n},tn=function(t,n){return null!=n?t(n):void 0},nn=function(t,n){n&&t(n)},en=e(16),rn=function(t){return t},an=Object(en.a)(rn,(function(t){return t.game})),on=Object(en.a)(an,(function(t){return s.map(O.displayGrid,t)})),cn=Object(en.a)(rn,(function(t){return null!=t.stepId})),un=Object(en.a)(an,(function(t){return s.isLoaded(t)?M.map((function(n){return t.data.entityData.entityMap[n]}),t.data.entityData.playerEntityId):void 0})),dn=Object(en.a)(on,un,(function(t,n){return s.map((function(t){return null!=n?i.centerOnPoint(t,n.position,3):[]}),t)})),sn=e(20),fn=e.n(sn),ln=e(34),pn=e.n(ln),mn=function(t){return j.a.createElement("div",{className:pn.a.root,style:{backgroundColor:p.getColor(t)}},p.getDisplayName(t))},yn=e(14),vn=e.n(yn),En=function(t){return t?"0.5px solid black":"0.5px transparent"},bn=function(t){var n=t.cell,e=t.occupants,r=n.walls;return j.a.createElement("div",{className:fn.a.root,style:{borderTop:En(r.n),borderRight:En(r.e),borderBottom:En(r.s),borderLeft:En(r.w)}},M.map((function(t){return j.a.createElement(mn,t)}),e[0]))},On=function(){return j.a.createElement("div",{className:vn()(fn.a.empty,fn.a.root)})},hn=e(24),gn=e.n(hn),wn=function(t){var n=t.grid;return j.a.createElement("div",{className:gn.a.root},n.map((function(t,n){return j.a.createElement("div",{key:n,className:gn.a.row},t.map((function(t,n){return M.withDefault(M.map((function(t){return j.a.createElement(bn,{key:n,cell:t.cell,occupants:t.occupants})}),t),j.a.createElement(On,null))})))})))},Tn=e(6),xn=e.n(Tn),Mn=function(t){var n=t.onMove;return j.a.createElement("div",{className:xn.a.root},j.a.createElement("div",{className:xn.a.row},j.a.createElement("div",{className:xn.a.block}),j.a.createElement("button",{className:vn()(xn.a.block,xn.a.button),onClick:function(){return n(T.Direction.NORTH)}}),j.a.createElement("div",{className:xn.a.block})),j.a.createElement("div",{className:xn.a.row},j.a.createElement("button",{className:vn()(xn.a.block,xn.a.button),onClick:function(){return n(T.Direction.WEST)}}),j.a.createElement("div",{className:xn.a.block}),j.a.createElement("button",{className:vn()(xn.a.block,xn.a.button),onClick:function(){return n(T.Direction.EAST)}})),j.a.createElement("div",{className:xn.a.row},j.a.createElement("div",{className:xn.a.block}),j.a.createElement("button",{className:vn()(xn.a.block,xn.a.button),onClick:function(){return n(T.Direction.SOUTH)}}),j.a.createElement("div",{className:xn.a.block})))},kn=e(35),_n=e(36),jn=e(39),An=e(37),Sn=e(40),Dn=function(t){function n(){var t,e;Object(kn.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=Object(jn.a)(this,(t=Object(An.a)(n)).call.apply(t,[this].concat(a)))).handleKeyDown=function(t){e.props.disabled||("ArrowUp"===t.key||"w"===t.key?e.props.onMove(T.Direction.NORTH):"ArrowRight"===t.key||"d"===t.key?e.props.onMove(T.Direction.EAST):"ArrowDown"===t.key||"d"===t.key?e.props.onMove(T.Direction.SOUTH):"ArrowLeft"!==t.key&&"a"!==t.key||e.props.onMove(T.Direction.WEST))},e}return Object(Sn.a)(n,t),Object(_n.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return _.createElement(_.Fragment,null)}}]),n}(_.PureComponent),Nn=function(t){var n=t.grid,e=t.onMove,r=t.processingUpdates;return _.createElement(_.Fragment,null,_.createElement(wn,{grid:n}),_.createElement(Mn,{onMove:e}),_.createElement(Dn,{onMove:e,disabled:r}))};!function(t){t.REQUEST_NEW_GAME="REQUEST_NEW_GAME",t.START_NEW_GAME="START_NEW_GAME",t.REQUEST_STEP="REQUEST_STEP",t.COMPLETE_STEP="COMPLETE_STEP",t.ABORT_STEP="ABORT_STEP",t.MOVE_PLAYER="MOVE_PLAYER"}(Bt||(Bt={}));var In=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Bt.REQUEST_NEW_GAME,options:t}},Pn=function(t,n){return{type:Bt.START_NEW_GAME,maze:t,entities:n}},Rn=function(t){return{type:Bt.ABORT_STEP,stepId:t}},Un=function(t,n){return{type:Bt.COMPLETE_STEP,stepId:t,gameData:n}},Ln=Object(R.b)((function(t){return{grid:dn(t),processingUpdates:cn(t)}}),(function(t){return{onMove:function(n){return t((e=n,{type:Bt.MOVE_PLAYER,direction:e}));var e}}}))((function(t){var n=t.grid,e=t.processingUpdates,r=t.onMove;return j.a.createElement("div",{className:P.a.root},s.isLoading(n)&&j.a.createElement("span",null,"Loading . . . "),s.isLoaded(n)&&n.data&&j.a.createElement(Nn,{processingUpdates:e,grid:n.data,onMove:r}))})),Wn=e(13),Cn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(lt.a)({game:s.loading()},t)},Hn=function(t){return Object(lt.a)({},t,{game:s.loading()})},zn=function(t,n,e){return Object(lt.a)({},t,{game:s.loaded(O.create(n,b.fromEntities(e,n.dimension)))})},Gn=function(t,n){return Object(lt.a)({},t,{stepId:n})},Bn=function(t,n,e){return function(t,n){return s.isLoaded(n.game)?t():n}((function(){return t.stepId===n?Object(lt.a)({},t,{stepId:void 0,game:s.loaded(e)}):t}),t)},Qn=function(t,n){return t.stepId===n?Object(lt.a)({},t,{stepId:void 0}):t},Vn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Bt.REQUEST_STEP:return Gn(t,n.step.id);case Bt.COMPLETE_STEP:return Bn(t,n.stepId,n.gameData);case Bt.ABORT_STEP:return Qn(t,n.stepId);case Bt.START_NEW_GAME:return zn(t,n.maze,n.entities);case Bt.REQUEST_NEW_GAME:return Hn(t);default:return t}},Yn=e(38),Jn=e(7),Kn=e.n(Jn),qn=e(4),Fn=Kn.a.mark(Xn),Zn=Kn.a.mark($n);function Xn(){var t,n,e,r,a,o,i,c;return Kn.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=1,u.next=4,Object(qn.f)(Bt.REQUEST_STEP);case 4:return t=u.sent,n=t.step,u.next=8,Object(qn.d)(an);case 8:if(e=u.sent,!s.isLoaded(e)){u.next=31;break}return r=e.data,u.next=13,Object(qn.b)(w.validateAll,n.instructions,r);case 13:if(a=u.sent,!x.isErr(a)){u.next=18;break}return u.next=17,Object(qn.c)(Rn(n.id));case 17:return u.abrupt("continue",0);case 18:return o=O.generateAllAIInstructions(r),i=[].concat(Object(W.a)(o),Object(W.a)(n.instructions)),u.next=22,Object(qn.b)(w.applyAll,i,r);case 22:if(c=u.sent,!x.isErr(c)){u.next=27;break}return u.next=26,Object(qn.c)(Rn(n.id));case 26:return u.abrupt("continue",0);case 27:return u.next=29,Object(qn.c)(Un(n.id,c.data));case 29:return u.next=31,Object(qn.b)($n,r,c.data);case 31:u.next=37;break;case 33:u.prev=33,u.t0=u.catch(1),console.warn("Error processing step"),console.error(u.t0);case 37:u.next=0;break;case 39:case"end":return u.stop()}}),Fn,null,[[1,33]])}function $n(t,n){var e,r;return Kn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=n.entityData.entityMap[n.entityData.playerEntityId],0!==(r=b.entitiesAtPoint(n.entityData,e.position,n.maze.dimension).filter((function(t){return t.id!==e.id})).concat(b.neighborsCrossedByEntity(t.entityData,n.entityData,e.id,n.maze.dimension))).length){a.next=6;break}return a.abrupt("return");case 6:if(!r.find((function(t){return"blind-guardian"===t.type}))){a.next=12;break}return a.next=9,Object(qn.b)(window.confirm,"You've been annihilated.");case 9:window.location.reload(),a.next=16;break;case 12:if(!r.find((function(t){return"exit"===t.type}))){a.next=16;break}return a.next=15,Object(qn.b)(window.confirm,"You have escaped with your life. . . for now.");case 15:window.location.reload();case 16:case"end":return a.stop()}}),Zn)}var te=Kn.a.mark(ne);function ne(){return Kn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(qn.g)(Bt.MOVE_PLAYER,Kn.a.mark((function t(n){var e;return Kn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(qn.d)(un);case 2:return e=t.sent,t.next=5,Object(qn.d)(cn);case 5:if(t.sent||!e){t.next=9;break}return t.next=9,Object(qn.c)((r=E.create(w.Move.create(e.id,n.direction)),{type:Bt.REQUEST_STEP,step:r}));case 9:case"end":return t.stop()}var r}),t)})));case 2:case"end":return t.stop()}}),te)}var ee=Kn.a.mark(re);function re(){var t,n,e,a;return Kn.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=1,o.next=4,Object(qn.f)(Bt.REQUEST_NEW_GAME);case 4:return t=o.sent,n=t.options,o.next=8,Object(qn.b)(r.maze,n.mazeOptions||{});case 8:return e=o.sent,a=d.fromMazeData(e),o.next=12,Object(qn.c)(Pn(a,ae(a)));case 12:o.next=18;break;case 14:o.prev=14,o.t0=o.catch(1),console.warn("Error initializing new game"),console.error(o.t0);case 18:o.next=0;break;case 20:case"end":return o.stop()}}),ee,null,[[1,14]])}var ae=function(t){var n=t.dimension,e=l.create("Test",c.pointAlongEdge(n)),r=y.create(c.randomPoint(n)),a=new Array(o.randomInRange(1,5)).fill(void 0).map((function(t){return m.create(c.randomPoint(n))}));return[e,r].concat(Object(W.a)(a))},oe=Kn.a.mark(ce),ie=[re,Xn,ne];function ce(){return Kn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(qn.a)(ie.map((function(t){return Object(qn.e)(t)})));case 2:return t.next=4,Object(qn.c)(In({mazeOptions:{dimension:c.create(15,15),algorithm:"aldous-broder"}}));case 4:case"end":return t.stop()}}),oe)}S.a.render(j.a.createElement(R.a,{store:function(){var t=Object(Yn.a)(),n=Object(Wn.d)(Vn,Object(Wn.a)(t));return t.run(ce),n}()},j.a.createElement("div",{className:N.a.app},j.a.createElement(Ln,null))),document.getElementById("root"))},6:function(t,n,e){t.exports={root:"GamePad_root__Lay6t",row:"GamePad_row__164Sm",block:"GamePad_block__l2_xd",button:"GamePad_button__3kDFo"}}},[[41,1,2]]]);
//# sourceMappingURL=main.463a2478.chunk.js.map