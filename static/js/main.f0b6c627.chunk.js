(this.webpackJsonpfollowed=this.webpackJsonpfollowed||[]).push([[0],{19:function(e,t,n){e.exports={app:"index_app__2lpzC"}},20:function(e,t,n){e.exports={root:"App_root__ZxxJN"}},23:function(e,t,n){e.exports={root:"Cell_root__2ti8K"}},24:function(e,t,n){e.exports={root:"Grid_root__xSU_B"}},26:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"create",(function(){return g}));var a={};n.r(a),n.d(a,"fromApi",(function(){return _}));var o={};n.r(o),n.d(o,"fromMazeData",(function(){return w}));var i={};n.r(i),n.d(i,"isLoading",(function(){return x})),n.d(i,"isLoaded",(function(){return A})),n.d(i,"isErrored",(function(){return O})),n.d(i,"loading",(function(){return N})),n.d(i,"loaded",(function(){return j})),n.d(i,"errored",(function(){return T}));var c={};n.r(c),n.d(c,"maze",(function(){return V}));var u,s=n(1),d=n.n(s),f=n(11),l=n.n(f),m=n(19),p=n.n(m),E=n(20),v=n.n(E),h=n(13),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{width:e,height:t}},_=function(e,t){return{bytes:Uint8Array.from(atob(t),(function(e){return e.charCodeAt(0)})),dimension:e}},b=function(e){return{walls:(t={n:!((8&e)>0),s:!((4&e)>0),e:!((2&e)>0),w:!((1&e)>0)},{n:t.n||!1,e:t.e||!1,s:t.s||!1,w:t.w||!1})};var t},w=function(e){for(var t=e.dimension,n=e.bytes,r=[],a=0;a<t.height;a++){for(var o=[],i=0;i<t.width;i++)o.push(b(n[a*t.width+i]));r.push(o)}return{grid:r,dimension:t}},x=function(e){return"Loading"===e.state},A=function(e){return"Loaded"===e.state},O=function(e){return"Errored"===e.state},N=function(){return{state:"Loading"}},j=function(e){return{state:"Loaded",data:e}},T=function(e){return{state:"Errored",e:e}},z=n(22),y=Object(z.a)((function(e){return e}),(function(e){return e.game})),M=n(23),S=n.n(M),G=function(e){return e?"0.5px solid black":"0.5px transparent"},L=function(e){var t=e.cell.walls;return d.a.createElement("span",{className:S.a.root,style:{borderTop:G(t.n),borderRight:G(t.e),borderBottom:G(t.s),borderLeft:G(t.w),height:"1rem",width:"1rem"}})},R=n(24),W=n.n(R),k=function(e){var t=e.grid;return d.a.createElement("div",{className:W.a.root},t.map((function(e){return d.a.createElement("div",{style:{lineHeight:0}},e.map((function(e){return d.a.createElement(L,{cell:e})})))})))},U=function(e){var t=e.maze;return s.createElement(s.Fragment,null,s.createElement(k,{grid:t.grid}))},Q=Object(h.b)((function(e){return{game:y(e)}}))((function(e){var t=e.game;return d.a.createElement("div",{className:v.a.root},i.isLoading(t)&&d.a.createElement("span",null,"Loading . . . "),i.isLoaded(t)&&d.a.createElement(U,t.data))})),J=n(7),B=n(14),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(B.a)({game:i.loading()},e)},D=function(e,t){return Object(B.a)({},e,{game:i.loaded({maze:t})})};!function(e){e.REQUEST_NEW_GAME="REQUEST_NEW_GAME",e.START_NEW_GAME="START_NEW_GAME"}(u||(u={}));var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:u.REQUEST_NEW_GAME,options:e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.START_NEW_GAME:return D(e,t.maze);case u.REQUEST_NEW_GAME:default:return e}},I=n(25),K=n(10),Z=n.n(K),q=n(9),P="https://fv9o21r19a.execute-api.us-east-1.amazonaws.com/dev",V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dimension,n=void 0===t?r.create(10,10):t,o=e.algorithm,i=void 0===o?"aldous-broder":o,c=fetch("".concat(P),{method:"post",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({dimensions:n,algorithm:i})});return c.then((function(e){return e.text()})).then((function(e){return a.fromApi(n,e)}))},X=Z.a.mark($),Y=Z.a.mark(te);function $(){var e,t,n;return Z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,Object(q.e)(u.REQUEST_NEW_GAME);case 4:return e=r.sent,t=e.options,r.next=8,Object(q.b)(c.maze,t.mazeOptions||{});case 8:return n=r.sent,r.next=11,Object(q.c)((a=o.fromMazeData(n),{type:u.START_NEW_GAME,maze:a}));case 11:r.next=17;break;case 13:r.prev=13,r.t0=r.catch(1),console.warn("Error initializing new game"),console.error(r.t0);case 17:r.next=0;break;case 19:case"end":return r.stop()}var a}),X,null,[[1,13]])}var ee=[$];function te(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)(ee.map((function(e){return Object(q.d)(e)})));case 2:return e.next=4,Object(q.c)(F({mazeOptions:{dimension:r.create(20,20),algorithm:"aldous-broder"}}));case 4:case"end":return e.stop()}}),Y)}l.a.render(d.a.createElement(h.a,{store:function(){var e=Object(I.a)(),t=Object(J.d)(H,Object(J.a)(e));return e.run(te),t}()},d.a.createElement("div",{className:p.a.app},d.a.createElement(Q,null))),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.f0b6c627.chunk.js.map